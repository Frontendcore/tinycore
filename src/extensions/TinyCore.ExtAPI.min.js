(function(f){if(!f.TinyCore){throw new Error("Cannot extend TinyCore's API: TinyCore seems to be missing!")}var e=true,c=false,a=null;var b=function(i,h){return i.hasOwnProperty(h)};var d=function(h,i){return Object.prototype.toString.call(h)==="[object "+i+"]"};var g={extVersion:"0.1.0",isStarted:function(i){var h=this.getModules()[i];return h&&h.bIsStarted},startAll:function(j,l){var i=0,h=0,m="",k=a;if(d(j,"Array")){l=l||{};for(h=j.length;i<h;i++){m=j[i];this.start(m,l[m])}}else{l=j||{};k=this.getModules();for(m in k){if(b(k,m)){this.start(m,l[m])}}}},stopAll:function(j){var i=0,h=0,l="",k=a;if(d(j,"Array")){for(h=j.length;i<h;i++){this.stop(j[i])}}else{k=this.getModules();for(l in k){if(b(k,l)){this.stop(l)}}}},destroy:function(j){var i=this.getModules(),h=i[j].oInstance;this.stop(j);if(h&&d(h.onDestroy,"Function")){h.onDestroy()}delete i[j]},destroyAll:function(j){var i=0,h=0,l="",k=a;if(d(j,"Array")){for(h=j.length;i<h;i++){this.destroy(j[i])}}else{k=this.getModules();for(l in k){if(b(k,l)){this.destroy(l)}}}},registerAndStart:function(j,h,i){if(this.register(j,h,i)){this.start(j,a);return e}return c},ErrorHandler:{log:(function(k,i,h){var j=a;if(i){return function(l){i.error(l)}}else{if(h){j=h.createElement("div");j.id="tinycore-log";j.setAttribute("style","font-family:Verdana,Arial,sans-serif; font-size:10px; position:fixed; bottom:0; left:0; width:100%; height:20%; overflow-y:auto; padding:5px; color:#FFF; border-top:1px solid #AA0000; background-color:#FF3300;");return function(m){var n=h.createElement("p"),l=h.createTextNode(new Date()+"> "+m);n.className="tinycore-log-error";n.appendChild(l);if(!h.getElementById("tinycore-log")){h.body.appendChild(j)}j.appendChild(n)}}}}(f,f.console,f.document))}};f.TinyCore.extend(g)}(this));
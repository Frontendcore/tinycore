(function(f){var g=f.TinyCore;if(!g){throw new Error("Cannot extend TinyCore's API: TinyCore seems to be missing!")}var d=true,i=false,h=null;var a=function(j,k){return Object.prototype.toString.call(j)==="[object "+k+"]"};var b=function(k,l){var j="";for(j in k){if(k.hasOwnProperty(j)){l(k[j],j)}}};var c=function(o,n,m){var k=0,j=0,l=g[o],p="";if(a(n,"Array")){m=m||{};for(j=n.length;k<j;k++){p=n[k];l.call(g,p,m[p])}}else{m=n||{};b(g.getModules(),function(q,r){l.call(g,r,m[r])})}};var e={extVersion:"0.2.0",instanciate:(function(j){return function(l){var k=j(l);if(k.topics){b(k.topics,function(m,n){k.__sandbox__.subscribe(n,m,k)})}return k}}(g.instanciate)),isStarted:function(k){var j=this.getModules()[k];return j&&j.bIsStarted},startAll:function(j,k){c("start",j,k)},stopAll:function(j){c("stop",j)},destroy:function(l){var k=this.getModules(),j=k[l].oInstance;this.stop(l);if(j&&a(j.onDestroy,"Function")){j.onDestroy()}delete k[l]},destroyAll:function(j){c("destroy",j)},registerAndStart:function(l,j,k){if(this.register(l,j,k)){this.start(l,h);return d}return i},ErrorHandler:{log:(function(m,k,j){var l=h;if(k){return function(n){k.error(n)}}else{if(j){l=j.createElement("div");l.id="tinycore-log";l.setAttribute("style","font-family:Verdana,Arial,sans-serif; font-size:10px; position:fixed; bottom:0; left:0; width:100%; height:20%; overflow-y:auto; padding:5px; color:#FFF; border-top:1px solid #AA0000; background-color:#FF3300;");return function(o){var p=j.createElement("p"),n=j.createTextNode(new Date()+"> "+o);p.className="tinycore-log-error";p.appendChild(n);if(!j.getElementById("tinycore-log")){j.body.appendChild(l)}l.appendChild(p)}}}}(f,f.console,f.document))}};g.extend(e)}(this));
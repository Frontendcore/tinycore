(function(h){var b=h.TinyCore;if(!b){throw new Error("Cannot extend TinyCore: TinyCore seems to be missing!")}var g=true,e=false,c=null;var f=function(i,j){return Object.prototype.toString.call(i)==="[object "+j+"]"};var d=function(j,k){var i;for(i in j){if(j.hasOwnProperty(i)){k(j[i],i)}}};var a=(function(i){var j=function(p,o,n){var l=0,m=i[p],k,q;if(f(o,"Array")){n=n||{};for(k=o.length;l<k;l++){q=o[l];m.call(i,q,n[q])}}else{n=o||{};d(i.getModules(),function(r,s){m.call(i,s,n[s])})}};return{instanciate:(function(k){return function(m){var l=k(m);if(l.topics){d(l.topics,function(n,o){l.__sandbox__.subscribe(o,n,l)})}return l}}(i.instanciate)),isStarted:function(l){var k=this.getModules()[l];return k&&k.bIsStarted},startAll:function(k,l){j("start",k,l)},stopAll:function(k){j("stop",k)},destroy:function(m){var l=this.getModules(),k=l[m].oInstance;this.stop(m);if(k&&f(k.onDestroy,"Function")){k.onDestroy()}delete l[m]},destroyAll:function(k){j("destroy",k)},registerAndStart:function(m,k,l){if(this.register(m,k,l)){this.start(m,c);return g}return e}}}(b.Module));b.extend({Module:a})}(this));
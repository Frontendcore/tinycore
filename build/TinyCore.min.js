/*! TinyCore v1.0.0 (2013-11-13) | (c) 2013 Marc Mignonsin | MIT license */
!function(a){"use strict";var b={version:"1.0",debugMode:!1,Module:null,Toolbox:null,Error:null,Utils:null};a.TinyCore=b,a.define&&a.define("TinyCore",b)}(this),function(a){"use strict";var b=a.TinyCore,c=Object.prototype,d=c.hasOwnProperty,e=c.toString;Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;++c)c in this&&a.call(b,this[c],c,this)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var f={isClass:function(a,b){return e.call(a)==="[object "+b+"]"},isFunction:function(a){return f.isClass(a,"Function")},isObject:function(a){return f.isClass(a,"Object")},isArray:function(a){return f.isClass(a,"Array")},forEach:function(a,b){if(a&&f.isObject(a))for(var c in a)d.call(a,c)&&b(a[c],c)},extend:function(){for(var a=arguments,b=a.length,c=1,d=a[0]||{},e=function(a,b){d[b]=f.isObject(a)?f.extend(d[b],a):a};b>c;c++)f.forEach(a[c],e);return d},tryCatchDecorator:function(a,c,d){if(c.__decorated__)return c;var e=function(){try{return c.apply(a,arguments)}catch(e){b.Error.log(d+e.message)}};return e.__decorated__=!0,e},createModuleObject:function(a,b){return a.apply(null,b)}};b.Utils=f}(this),function(a){"use strict";var b=a.TinyCore,c=b.Utils,d={},e=-1,f={request:function(a){var b=d[a];return b&&b.fpFactory&&b.fpFactory(++e)||null},register:function(a,b){return d[a]||!c.isFunction(b)?!1:(d[a]={fpFactory:b},!0)}};b.Toolbox=f}(this),function(a){"use strict";var b=a.TinyCore,c={log:function(b){a.console&&a.console.error&&a.console.error(b)},report:function(a){if(b.debugMode)throw new Error(a);c.log(a)}};b.Error=c}(this),function(a){"use strict";var b=a.TinyCore,c=b.Utils,d=b.Toolbox,e=b.Error,f={},g={define:function(a,b,d){return f[a]||!c.isFunction(d)?!1:(f[a]={fpCreator:d,oInstances:{},aToolsNames:b},!0)},start:function(a,b){var c=g.getInstance(a);return c||(c=f[a].oInstances[a]={oInstance:g.instantiate(a)}),c.bIsStarted||(c.oInstance.onStart(b),c.bIsStarted=!0),c.bIsStarted},stop:function(a,b){var d=g.getInstance(a);return d&&d.oInstance?(d.bIsStarted&&(c.isFunction(d.oInstance.onStop)&&d.oInstance.onStop(),d.bIsStarted=!1),b?(c.isFunction(d.oInstance.onDestroy)&&d.oInstance.onDestroy(),delete f[a],!0):!d.bIsStarted):!1},instantiate:function(a){var g,h,i=f[a],j=i.aToolsNames,k=j.length,l=[];for(i||e.report('The module "'+a+'" is not defined!');k--;)g=j[k],l.unshift(d.request(g));if(h=c.createModuleObject(i.fpCreator,l),b.debugMode)for(h.__tools__=h.__tools__||{},k=j.length;k--;)h.__tools__[j[k]]=l[k];else c.forEach(h,function(b,d){c.isFunction(b)&&(h[d]=c.tryCatchDecorator(h,b,'Error in module "'+a+'" executing method "'+d+'": '))});return h},getModules:function(){return f},getInstance:function(a,b){var c=f[a];return c||e.report('The module "'+a+'" is not defined!'),"undefined"==typeof b&&(b=a),c.oInstances[b]}};b.Module=g}(this);